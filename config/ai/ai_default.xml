<?xml version="1.0" encoding="UTF-8"?>
<aiConfig>
    <tactics>
        <!-- Tactical Orientation. AGGRESSIVE, DEFENSIVE or NOT_DEFINED -->
        <tacticalOrientation>AGGRESSIVE</tacticalOrientation>
    </tactics>
    <!-- role specific params -->
    <roles>
        <!-- ball velocity at shoot destination -->
        <passSenderBallEndVel>2.0f</passSenderBallEndVel>
        <!-- ball speed correction that will be added to expected ball velocity of incoming ball -->
        <indirectReceiverBallVelCorrection>0f</indirectReceiverBallVelCorrection>
        <!-- max angle in [deg] that the indirect receiver should aim for -->
        <indirectReceiverMaxAngle>70</indirectReceiverMaxAngle>
        <!-- Ball will first touch ground at distance * factor at a chip pass -->
        <chipPassDistFactor>0.7f</chipPassDistFactor>
        <!-- Defense Roles -->
        <DEFENDER_K1D>
            <GAP>130</GAP>
            <RADIUS>800</RADIUS>
        </DEFENDER_K1D>
        <KEEPER_K1D>
            <GAP>160</GAP>
            <RADIUS>500</RADIUS>
        </KEEPER_K1D>
        <DEFENDER_K2D>
            <!-- 'vertical' gap between defender and keeper -->
            <SPACE_BEFORE_KEEPER>300</SPACE_BEFORE_KEEPER>
            <!-- 'horizontal' gap between defender and keeper -->
            <SPACE_BESIDE_KEEPER>200</SPACE_BESIDE_KEEPER>
        </DEFENDER_K2D>
        <KEEPER_K2D>
            <RADIUS>100</RADIUS>
        </KEEPER_K2D>
        <KEEPER_SOLO>
            <RADIUS>100</RADIUS>
        </KEEPER_SOLO>
        <!-- Offense Roles -->
        <INDIRECT_SHOOTER>
            <MEMORYSIZE>2</MEMORYSIZE>
            <TRIES_PER_CYCLE>10</TRIES_PER_CYCLE>
        </INDIRECT_SHOOTER>
        <SHOOTER>
            <MEMORYSIZE>2</MEMORYSIZE>
            <TRIES_PER_CYCLE>10</TRIES_PER_CYCLE>
        </SHOOTER>
    </roles>
    <plays>
        <TEC_SHOOT_CHAL_TEST>
            <!-- one of TIGERS or OPPONENTS -->
            <teamside>OPPONENTS</teamside>
            <!-- speed of the moving bots -->
            <speed>1.0f</speed>
        </TEC_SHOOT_CHAL_TEST>
        <NDEFENDER>
            <blockmodus>true</blockmodus>
            <radiusToProtect>400</radiusToProtect>
            <ballSpeedToProtect>1</ballSpeedToProtect>
        </NDEFENDER>
        <KEEPERSOLO>
            <vector>
                <initx>-2000.0</initx>
                <inity>1500</inity>
            </vector>
        </KEEPERSOLO>
    </plays>
    <pathplanning>
        <errt>
            <!-- distance between 2 nodes [mm] -->
            <stepSize>200</stepSize>
            <!-- step size of the final path [mm] -->
            <finalStepSize>100</finalStepSize>
            <!-- defines how much iterations will at most be created -->
            <maxIterations>250</maxIterations>
            <!-- defines how much clearance the path has to have to obstacles [mm] -->
            <safetyDistance>50</safetyDistance>
            <!-- defines how much clearance the path has to have to obstacles when 
				checking old path[mm] -->
            <safetyDistanceOldPath>150</safetyDistanceOldPath>
            <!-- defines how much clearance the path has to have to obstacles when 
				in 2nd round [mm] -->
            <safetyDistance2Try>30</safetyDistance2Try>
            <!-- probability to choose targetNode as next goal -->
            <safetyDistanceBall>50</safetyDistanceBall>
            <!-- probability to choose targetNode as next goal -->
            <pDestination>0.2</pDestination>
            <!-- probability to choose a waypoint as next goal -->
            <pWaypoint>0.7</pWaypoint>
            <!-- size of waypointcache -->
            <sizeWaypointCache>50</sizeWaypointCache>
            <!-- how much target can differ from target of last cycle to use WPC [mm] -->
            <tollerableTargetShiftWPC>500</tollerableTargetShiftWPC>
            <!-- how much target can differ from target of last cycle, so that oldPath 
				still is checked [mm] -->
            <tollerableTargetShift>50</tollerableTargetShift>
        </errt>
        <optimization>
            <!-- Points on a path with a combined angle*distance score below this 
				value will be removed -->
            <pathReductionScore>0.0</pathReductionScore>
            <!-- how much is the bot allowed to differ from the current spline until 
				a new spline is calculated[mm] -->
            <allowedDistanceToSpline>200</allowedDistanceToSpline>
            <!-- if the new calculated path is faster by this amount of time it will 
				replace the old path [s] -->
            <useShorterPathIfFaster>0.5</useShorterPathIfFaster>
            <collisionDetection>
                <!-- the first seconds of the spline are ignored by the collision detection. 
					So it is possible to drive away from another bot or ball -->
                <ignoreFirstSeconds>0.3</ignoreFirstSeconds>
                <!-- the last seconds of the spline are ignored by the collision detection. 
					So it is possible to drive to another bot or ball -->
                <ignoreLastSeconds>0.0</ignoreLastSeconds>
                <!-- maximum amount of iterations done by the collision detection (started 
					at the position of the bot) -->
                <collisionIterationsMaximum>10</collisionIterationsMaximum>
                <!-- step size of iterations done by the collision detection (started 
					at the position of the bot) -->
                <collisionIterationsStepSize>0.1</collisionIterationsStepSize>
            </collisionDetection>
        </optimization>
    </pathplanning>
    <calculators>
        <ballPossession>
            <minDistanceToBot>150</minDistanceToBot>
        </ballPossession>
        <defenseGoalPoints>
            <numberOfThreadPoints>12</numberOfThreadPoints>
            <delay>0.0</delay>
            <directShootQuantifier>6</directShootQuantifier>
            <ballQuantifier>30</ballQuantifier>
            <indirectShootQuantifier>20</indirectShootQuantifier>
            <indirectShootDistance>1000</indirectShootDistance>
            <!--Gibt an umwieviel die Defender vor der PenaltyArea stehen soll (+botradius)-->
            <scalingFactorDefense>200</scalingFactorDefense>
            <!--Gibt Toleranc an umwieviel das Tor beim berechnen vergrößert werden soll -->
            <toleranceGoal>50</toleranceGoal>
        </defenseGoalPoints>
        <patterdetection>
            <logfile>./config/metis/patterns.config</logfile>
        </patterdetection>
        <fieldRaster>
            <main>
                <positioning>
                    <rows>2</rows>
                    <columns>4</columns>
                </positioning>
                <analysing>
                    <!-- Changing factor between Sumatra is running creates an Exception !-->
                    <!-- valid values 2,4,6,8! -->
                    <factor>16</factor>
                    <!-- Manalobis(1)/Standard(2) -->
                    <kind>1</kind>
                    <!-- Mode: GPU(1) or CPU(2)-->
                    <mode>2</mode>
                </analysing>
            </main>
            <playfinder>
                <positioning>
                    <rows>2</rows>
                    <columns>4</columns>
                </positioning>
                <analysing>
                    <factor>4</factor>
                    <kind>1</kind>
                    <mode>2</mode>
                </analysing>
            </playfinder>
        </fieldRaster>
    </calculators>
</aiConfig>
